<!--
  Generated template for the TipoCadastroPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Registration of {{registration_type.title}}</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <form [formGroup]="registration_type.form_group">
        <ion-item>
            <ion-label floating>Name</ion-label>
            <ion-input formControlName="name" type="text" [(ngModel)]="registration_data.name" (ionBlur)="formattingService.formata_campo($event, 'name')" [class.invalid]="!registration_type.form_group.controls. name.valid && submitAttempt"></ion-input>
        </ion-item>

        <ion-card *ngIf="type == 'doctor'">
            <ion-item>
                <ion-label floating>Address</ion-label>
                <ion-input formControlName="address" type="text" [(ngModel)]="registration_data.address"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Specialization</ion-label>
                <ion-input formControlName="specialization" type="text" [(ngModel)]="registration_data.specialization"></ion-input>
            </ion-item>
        </ion-card>

        <ion-card *ngIf="type == 'patient'">
            <ion-item>
                <ion-label floating>State</ion-label>
                <ion-input formControlName="state" type="text" [(ngModel)]="registration_data.state"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label floating>City</ion-label>
                <ion-input formControlName="city" type="text" [(ngModel)]="registration_data.city"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label floating>Gender</ion-label>
                <ion-input formControlName="genre" type="text" [(ngModel)]="registration_data.genre"></ion-input>
            </ion-item>
        </ion-card>

        <ion-item>
            <ion-label floating>E-mail</ion-label>
            <ion-input formControlName="email" type="text" value="" [(ngModel)]="registration_data.email"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label floating>Telefone</ion-label>
            <ion-input formControlName="phone" type="text" [(ngModel)]="registration_data.phone" (ionBlur)="formattingService.formata_campo($event, 'celular')"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label floating>Password</ion-label>
            <ion-input formControlName="password" type="password" value="" [(ngModel)]="registration_data.password"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label floating>Password Confirmation</ion-label>
            <ion-input formControlName="password_confirmation" type="password" [(ngModel)]="registration_data.password_confirmation"></ion-input>
        </ion-item>
    </form>
</ion-content>

<ion-footer>
    <ion-grid>
        <ion-row justify-content-center>
            <ion-col col-12>
                <button ion-button small color="secondary" (click)="register()" push-8>
                    <ion-icon name="ios-checkmark-circle-outline">&nbsp;</ion-icon>
                    Register
                </button>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-footer>